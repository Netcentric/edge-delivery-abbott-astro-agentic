indices:
  products:
    target: /query-products.json
    include:
      - '/products/**'
    properties:
      name:
        select: head > meta[property="og:title"]
        value: attribute(el, "content")
      image: 
        select: head > meta[property="og:image"]
        value: attribute(el, "content")
      description: 
        select: head > meta[property="og:description"]
        value: attribute(el, "content")
      lastModified:
        select: none
        value: parseTimestamp(headers["last-modified"], "ddd, DD MMM YYYY hh:mm:ss GMT")
  segments:
    target: /query-segments.json
    include:
      - '/segments/**'
    properties:
      name:
        selectFirst: main h1
        value: attribute(el, "content")
      subtitle:
        selectFirst: main h2
        value: textContent(el)
      profile:
        selectFirst: "#profile ~ p"
        value: textContent(el)
      lifestyle:
        selectFirst: "#lifestyle ~ p"
        value: textContent(el)
      needs:
        selectFirst: "#needs ~ p"
        value: textContent(el)
      image: 
        select: head > meta[property="og:image"]
        value: attribute(el, "content")
      description: 
        select: head > meta[property="og:description"]
        value: attribute(el, "content")
      lastModified:
        select: none
        value: parseTimestamp(headers["last-modified"], "ddd, DD MMM YYYY hh:mm:ss GMT")
  regions:
    target: /query-regions.json
    include:
      - '/regions/**'
    properties:
      name:
        select: head > meta[property="og:title"]
        value: attribute(el, "content")
      image: 
        select: head > meta[property="og:image"]
        value: attribute(el, "content")
      snippet: 
        select: main
        value: innerHTML(el)
      lastModified:
        select: none
        value: parseTimestamp(headers["last-modified"], "ddd, DD MMM YYYY hh:mm:ss GMT")